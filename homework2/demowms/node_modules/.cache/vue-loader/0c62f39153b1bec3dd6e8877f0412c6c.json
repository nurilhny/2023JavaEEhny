{"remainingRequest":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\Trolley.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\Trolley.vue","mtime":1682226446980},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js","mtime":1685545171187},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js","mtime":1685545146599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ109J2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCc7CmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInRyb2xsZXkiLAogIGRpY3RzOiBbJ3N5c19ub3JtYWxfZGlzYWJsZSddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5bCP6L2m6KGo5qC85pWw5o2uCiAgICAgIHBvc3RMaXN0OiBbXSwKICAgICAgLy8g5bCP6L2m6aG555uu5pWw5o2uCiAgICAgIGl0ZW1MaXN0OiBbXSwKICAgICAgLy8g5ZWG5ZOB5pWw5o2uCiAgICAgIHByb2R1Y3RzOltdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOaYr+WQpuW8ueWHuuivpuaDheWxggogICAgICBkZXRhaWw6IGZhbHNlLAogICAgICAvLyDmn6Xor6LkupLmlqXljZXph48KICAgICAgcXVlcnlTaW5nbGU6IGZhbHNlLAogICAgICAvLyDmn6Xor6LkupLmlqXlpJrph48KICAgICAgcXVlcnlNdXRleDogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHRyb2xsZXlJZDogdW5kZWZpbmVkLAogICAgICAgIGJhdGNoOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdGU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgbXlGb3JtOiB7CiAgICAgICAgYmF0dGVyeToiMTAwIiwKICAgICAgICBzdGF0ZToiZnJlZSIsCiAgICAgICAgc2l6ZTp1bmRlZmluZWQsCiAgICAgICAgYmF0Y2g6dW5kZWZpbmVkLAoKCiAgICAgIH0sCgogICAgfTsKICB9LAogIGNvbXB1dGVkOnsKICAgIHF1ZXJ5U2VsZWN0KCl7CiAgICAgIGxldCB2YWx1ZTEgPSB0aGlzLnF1ZXJ5UGFyYW1zLmJhdGNoOwogICAgICBsZXQgdmFsdWUyID0gdGhpcy5xdWVyeVBhcmFtcy5zdGF0ZTsKICAgICAgcmV0dXJue3ZhbHVlMSx2YWx1ZTJ9OwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXRQcm9kdWN0cygpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouWwj+i9puWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvdHJvbGxleXMvIikudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgY29uc29sZS5sb2coJ+aIkXRt5p2l5ZWmJyk7CiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhKSl7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gW107CiAgICAgICAgICB0aGlzLnBvc3RMaXN0LnB1c2gocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5kZXRhaWwgPSBmYWxzZTsKCiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5teUZvcm0gPXsKICAgICAgICBiYXR0ZXJ5OiIxMDAiLAogICAgICAgIHN0YXRlOiJmcmVlIiwKICAgICAgICBzaXplOnVuZGVmaW5lZCwKICAgICAgICBiYXRjaDp1bmRlZmluZWQsCgogICAgICB9OwogICAgICB0aGlzLml0ZW1MaXN0ID0gW107CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9LAogICAgcmVzZXRGb3JtKCl7CgogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gewogICAgICAgIHRyb2xsZXlJZDogdW5kZWZpbmVkLAogICAgICAgIGJhdGNoOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdGU6IHVuZGVmaW5lZAogICAgICB9OwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICBpZiAodGhpcy5xdWVyeVBhcmFtcy50cm9sbGV5SWQpewogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL3Ryb2xsZXlzLyIrdGhpcy5xdWVyeVBhcmFtcy50cm9sbGV5SWQpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGE9PT0iIil7CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBlbHNlIGlmKHRoaXMucXVlcnlQYXJhbXMuYmF0Y2gpewogICAgICAgIGlmKHRoaXMucXVlcnlQYXJhbXMuc3RhdGUpewogICAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvdHJvbGxleXMvYmF0Y2gvIit0aGlzLnF1ZXJ5UGFyYW1zLmJhdGNoKyIvIit0aGlzLnF1ZXJ5UGFyYW1zLnN0YXRlKQogICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgLy8g5Yik5pat5piv5LiN5piv5YiX6KGoCiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YSkpewogICAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IFtdOwogICAgICAgICAgICAgIHRoaXMucG9zdExpc3QucHVzaChyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS90cm9sbGV5cy9iYXRjaC8iK3RoaXMucXVlcnlQYXJhbXMuYmF0Y2gpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAvLyDliKTmlq3mmK/kuI3mmK/liJfooagKICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhKSl7CiAgICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gW107CiAgICAgICAgICAgICAgdGhpcy5wb3N0TGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIGlmKHRoaXMucXVlcnlQYXJhbXMuc3RhdGUpewogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL3Ryb2xsZXlzL3N0YXRlLyIrdGhpcy5xdWVyeVBhcmFtcy5zdGF0ZSkudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgLy8g5Yik5pat5piv5LiN5piv5YiX6KGoCiAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKXsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9CgoKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0udHJvbGxleUlkKQogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPTEKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoCiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAi5re75Yqg5bCP6L2mIjsKICAgIH0sCiAgICAvKiog5Y+W5raI5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVVcGRhdGUocm93KSB7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGF4aW9zLmdldCgnL3Ryb2xsZXlzL2NhbmNlbGxlZC8nK3Jvdy5iYXRjaCkudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgbGV0IGZsYWcgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmKGZsYWcpewogICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5YGc55So5oiQ5YqfISIpOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLlgZznlKjlpLHotKUhIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9KTsKCiAgICB9LAogICAgLyoqIOWQr+WKqOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlU3RhcnQocm93KSB7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGF4aW9zLmdldCgnL3Ryb2xsZXlzL3N0YXJ0Lycrcm93LmJhdGNoKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICBsZXQgZmxhZyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYoZmxhZyl7CiAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLlkK/liqjmiJDlip8hIik7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy4kbW9kYWwubXNnRXJyb3IoIuWQr+WKqOWksei0pSEiKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0pOwoKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBhc3luYyBzdWJtaXRGb3JtKHRyb2xsZXkpIHsKICAgICAgY29uc29sZS5sb2codHJvbGxleSk7CiAgICAgIGNvbnNvbGUubG9nKCJ3d3ciKTsKICAgICAgLy8g5re75Yqg5bCP6L2mCiAgICAgIGF4aW9zLnBvc3QoJy90cm9sbGV5cy8nLCB0cm9sbGV5KS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICBjb25zb2xlLmxvZygiMSIpOwogICAgICAgIGxldCBmbGFnID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBpZihmbGFnKXsKICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIua3u+WKoOaIkOWKn++8gSIpOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLmt7vliqDlpLHotKUhIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy4kbW9kYWwubXNnRXJyb3IoIua3u+WKoOWksei0pSEiKTsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9KTsKCiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCB0cm9sbGV5SWRzID0gcm93LnRyb2xsZXlJZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5bCP6L2m57yW5Y+35Li6IicgKyB0cm9sbGV5SWRzICsgJyLnmoTmlbDmja7pobnvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgewoKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgYXhpb3MuZGVsZXRlKCcvdHJvbGxleXMvJyt0cm9sbGV5SWRzKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICAgIGxldCBmbGFnID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmKGZsYWcpewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8hIik7CiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLliKDpmaTlpLHotKUhIik7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgfSk7CgoKCiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICAvKiog5a+85Ye65oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVFeHBvcnQoKSB7CiAgICAgIHRoaXMuZG93bmxvYWQoJ3N5c3RlbS9wb3N0L2V4cG9ydCcsIHsKICAgICAgICAuLi50aGlzLnF1ZXJ5UGFyYW1zCiAgICAgIH0sIGBwb3N0XyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQogICAgfSwKICAgIC8vIOWkhOeQhuivpuaDheaTjeS9nAogICAgaGFuZGxlRGV0YWlsKHJvdyl7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL3Ryb2xsZXlpdGVtcy90cm9sbGV5LyIrcm93LnRyb2xsZXlJZCkudGhlbigocmVzcG9uc2UpPT57CgogICAgICAgIHRoaXMuaXRlbUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoaXMuZGV0YWlsID0gdHJ1ZTsKICAgICAgfSkKICAgIH0sCiAgICAvLyDmlrDlop7ljZXpobnnm64KICAgIGFkZFByb2R1Y3QoKSB7CiAgICAgIHRoaXMubXlGb3JtLnRyb2xsZXlJdGVtcy5wdXNoKHsKICAgICAgICB0cm9sbGV5SWQ6IiIsCiAgICAgICAgcHJvZHVjdE5hbWU6IiIsCiAgICAgICAgdHJvbGxleVF1YW50aXR5OiIiLAogICAgICAgIHRyb2xsZXlQcmljZToiIgogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTljZXpobnnm64KICAgIHJlbW92ZVByb2R1Y3QoaXRlbSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLm15Rm9ybS50cm9sbGV5SXRlbXMuaW5kZXhPZihpdGVtKTsKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIHRoaXMubXlGb3JtLnRyb2xsZXlJdGVtcy5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5blhajpg6jllYblk4EKICAgIGdldFByb2R1Y3RzKCl7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL3Byb2R1Y3RzLyIpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgIGNvbnNvbGUubG9nKCfmiJF0beW4puedgOWVhuWTgeadpeWVpicpOwogICAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YSkpewogICAgICAgICAgdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy5wcm9kdWN0cyA9IFtdOwogICAgICAgICAgdGhpcy5wcm9kdWN0cy5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5aSE55CG5omA5pyJ5Y2V6aG555uuCiAgICBoYW5kbGVQcm9kdWN0KHRyb2xsZXkpewogICAgICBsZXQgaXRlbXNMaXN0ID0gdHJvbGxleS50cm9sbGV5SXRlbXM7CiAgICAgIGxldCBuZXdMaXN0ID0gW107CgogICAgICBmb3IobGV0IGl0ZW0gaW4gaXRlbXNMaXN0KXsKICAgICAgICBmb3IobGV0IHByb2R1Y3QgaW4gdGhpcy5wcm9kdWN0cyl7CiAgICAgICAgICAgICAgaWYoaXRlbXNMaXN0W2l0ZW1dLnByb2R1Y3RJZD09PXRoaXMucHJvZHVjdHNbcHJvZHVjdF0ucHJvZHVjdElkKXsKCiAgICAgICAgICAgICAgICAgIG5ld0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdHJvbGxleUlkOiIiLAogICAgICAgICAgICAgICAgICAgIHRyb2xsZXlQcmljZTogdGhpcy5wcm9kdWN0c1twcm9kdWN0XS5wcmljZSwKICAgICAgICAgICAgICAgICAgICB0cm9sbGV5UXVhbnRpdHk6IGl0ZW1zTGlzdFtpdGVtXS50cm9sbGV5UXVhbnRpdHksCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtc0xpc3RbaXRlbV0ucHJvZHVjdElkLAogICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiB0aGlzLnByb2R1Y3RzW3Byb2R1Y3RdLnByb2R1Y3ROYW1lCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHRyb2xsZXkudHJvbGxleUl0ZW1zID0gbmV3TGlzdDsKICAgICAgcmV0dXJuIHRyb2xsZXk7CiAgICB9CiAgfSwKICBmaWx0ZXJzOnsKICAgIHRpbWVGb3JtYXRlcih2YWx1ZSl7CiAgICAgIHJldHVybiBkYXlqcyh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykKICAgIH0sCiAgICBjYXRlZ29yeUZvcm1hdGVyKHZhbHVlKXsKICAgICAgaWYgKHZhbHVlID09PSAicHVyY2hhc2UiKXsKICAgICAgICByZXR1cm4gIumHh+i0reWFpeW6kyI7CiAgICAgIH1lbHNlIGlmKHZhbHVlID09PSAicHJvZHVjdGlvbiIpewogICAgICAgIHJldHVybiAi55Sf5Lqn5YWl5bqTIjsKICAgICAgfWVsc2UgewogICAgICAgIHJldHVybiAi5YW25LuW5YWl5bqTIjsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6ewogICAgJ3F1ZXJ5UGFyYW1zLnRyb2xsZXlJZCc6ewogICAgICBoYW5kbGVyKG5ld1ZhbHVlKXsKICAgICAgICBpZihuZXdWYWx1ZSl7CiAgICAgICAgICB0aGlzLnF1ZXJ5TXV0ZXggPSB0cnVlOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHRoaXMucXVlcnlNdXRleCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKfSwKICAgICdxdWVyeVBhcmFtcy5iYXRjaCc6ewogICAgICBoYW5kbGVyKG5ld1ZhbHVlKXsKICAgICAgICBpZihuZXdWYWx1ZSl7CiAgICAgICAgICB0aGlzLnF1ZXJ5U2luZ2xlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICB9LAogICAgJ3F1ZXJ5UGFyYW1zLnN0YXRlJzp7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUpewogICAgICAgIGlmKG5ld1ZhbHVlKXsKICAgICAgICAgIHRoaXMucXVlcnlTaW5nbGUgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgIH0sCiAgICAgcXVlcnlTZWxlY3Q6ewogICAgICBoYW5kbGVyKG5ld1ZhbHVlKXsKICAgICAgICBsZXQgdjEgPSBuZXdWYWx1ZS52YWx1ZTE7CiAgICAgICAgbGV0IHYyID0gbmV3VmFsdWUudmFsdWUyOwogICAgICAgIC8vIOWPquacieW9k+S4pOiAhemDveepuuaXtu+8jOaJjeiDveS/ruaUueWwj+i9pue8luWPtwogICAgICAgIGlmKCF2MSAmJiAhdjIpewogICAgICAgICAgdGhpcy5xdWVyeVNpbmdsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Trolley.vue"],"names":[],"mappings":";AAsKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Trolley.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"100px\">\n      <el-form-item label=\"小车编号\" prop=\"trolleyId\" >\n        <el-input\n          v-model=\"queryParams.trolleyId\"\n          placeholder=\"请输入小车编号\"\n          clearable\n          :disabled=\"querySingle\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"小车批次\" prop=\"batch\">\n        <el-input\n            v-model=\"queryParams.batch\"\n            placeholder=\"请输入小车批次\"\n            clearable\n            :disabled=\"queryMutex\"\n            @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"状态\" prop=\"state\">\n        <el-select v-model=\"queryParams.state\" placeholder=\"小车状态\" clearable :disabled=\"queryMutex\">\n          <el-option\n            key=\"1\"\n            label=\"繁忙中\"\n            value=\"busy\"\n          />\n          <el-option\n              key=\"2\"\n              label=\"空闲中\"\n              value=\"free\"\n          />\n          <el-option\n              key=\"3\"\n              label=\"已停用\"\n              value=\"cancelled\"\n          />\n          <el-option\n              key=\"4\"\n              label=\"充电中\"\n              value=\"charging\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n\n        >停用</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n\n        >删除</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"postList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"小车编号\" align=\"center\" prop=\"trolleyId\" />\n      <el-table-column label=\"载运量\" align=\"center\" prop=\"size\"/>\n      <el-table-column label=\"电量\" align=\"center\" prop=\"battery\"/>\n      <el-table-column label=\"状态\" align=\"center\" prop=\"state\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.state==='free'\" type=\"success\">\n            空闲中\n          </el-tag>\n          <el-tag v-else-if=\"scope.row.state==='busy'\" type=\"warning\">\n            繁忙中\n          </el-tag>\n          <el-tag v-else-if=\"scope.row.state==='charging'\">\n            充电中\n          </el-tag>\n          <el-tag v-else type=\"info\">\n            已停用\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"小车批次\" align=\"center\" prop=\"batch\"/>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n\n          >停用</el-button>\n          <el-button\n              size=\"mini\"\n              type=\"text\"\n              icon=\"el-icon-success\"\n              @click=\"handleStart(scope.row)\"\n          >启动/释放</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加或修改小车对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"350px\" append-to-body>\n      <el-form ref=\"myForm\" :model=\"myForm\" label-width=\"100px\">\n        <el-form-item label=\"初始化批次\" prop=\"batch\">\n          <el-input v-model=\"myForm.batch\" placeholder=\"请输入批次\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"运载量\" prop=\"size\">\n          <el-select v-model=\"myForm.size\" placeholder=\"运载量\" clearable >\n            <el-option\n                label=\"小型车运载量\"\n                value=\"50\"\n            />\n            <el-option\n                label=\"中型车运载量\"\n                value=\"100\"\n            />\n            <el-option\n                label=\"大型车运载量\"\n                value=\"200\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm(myForm)\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.headers.post['Content-Type']='application/json;charset=UTF-8';\nimport dayjs from \"dayjs\";\n\nexport default {\n  name: \"trolley\",\n  dicts: ['sys_normal_disable'],\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 小车表格数据\n      postList: [],\n      // 小车项目数据\n      itemList: [],\n      // 商品数据\n      products:[],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 是否弹出详情层\n      detail: false,\n      // 查询互斥单量\n      querySingle: false,\n      // 查询互斥多量\n      queryMutex: false,\n      // 查询参数\n      queryParams: {\n        trolleyId: undefined,\n        batch: undefined,\n        state: undefined\n      },\n      // 表单参数\n      myForm: {\n        battery:\"100\",\n        state:\"free\",\n        size:undefined,\n        batch:undefined,\n\n\n      },\n\n    };\n  },\n  computed:{\n    querySelect(){\n      let value1 = this.queryParams.batch;\n      let value2 = this.queryParams.state;\n      return{value1,value2};\n    }\n  },\n  created() {\n    this.getList();\n    this.getProducts();\n  },\n  methods: {\n    /** 查询小车列表 */\n    getList() {\n      this.loading = true;\n      axios.get(\"http://localhost:8181/trolleys/\").then((response)=>{\n        console.log('我tm来啦');\n        if(Array.isArray(response.data)){\n          this.postList = response.data;\n        }else {\n          this.postList = [];\n          this.postList.push(response.data);\n        }\n      });\n      this.loading = false;\n\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.detail = false;\n\n      this.reset();\n      this.getList();\n    },\n    // 表单重置\n    reset() {\n      this.myForm ={\n        battery:\"100\",\n        state:\"free\",\n        size:undefined,\n        batch:undefined,\n\n      };\n      this.itemList = [];\n      this.resetForm();\n    },\n    resetForm(){\n\n      this.queryParams = {\n        trolleyId: undefined,\n        batch: undefined,\n        state: undefined\n      };\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      if (this.queryParams.trolleyId){\n        axios.get(\"http://localhost:8181/trolleys/\"+this.queryParams.trolleyId).then((response)=>{\n          this.loading = true;\n          if(response.data===\"\"){\n            this.postList = [];\n          }else {\n            console.log(response);\n            this.postList = [];\n            this.postList.push(response.data);\n          }\n\n          this.loading = false;\n        });\n      }\n      else if(this.queryParams.batch){\n        if(this.queryParams.state){\n          axios.get(\"http://localhost:8181/trolleys/batch/\"+this.queryParams.batch+\"/\"+this.queryParams.state)\n              .then((response)=>{\n            this.loading = true;\n            // 判断是不是列表\n            if(Array.isArray(response.data)){\n              this.postList = response.data;\n            }else {\n              this.postList = [];\n              this.postList.push(response.data);\n\n            }\n            this.loading = false;\n          });\n        }else {\n          axios.get(\"http://localhost:8181/trolleys/batch/\"+this.queryParams.batch).then((response)=>{\n            this.loading = true;\n            // 判断是不是列表\n            if(Array.isArray(response.data)){\n              this.postList = response.data;\n            }else {\n              this.postList = [];\n              this.postList.push(response.data);\n\n            }\n            this.loading = false;\n          });\n        }\n      }\n      else if(this.queryParams.state){\n        axios.get(\"http://localhost:8181/trolleys/state/\"+this.queryParams.state).then((response)=>{\n          this.loading = true;\n          // 判断是不是列表\n          if(Array.isArray(response.data)){\n            this.postList = response.data;\n          }else {\n            this.postList = [];\n            this.postList.push(response.data);\n\n          }\n          this.loading = false;\n        });\n      }\n      else {\n        this.getList();\n      }\n\n\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm();\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.trolleyId)\n      this.single = selection.length!=1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加小车\";\n    },\n    /** 取消按钮操作 */\n    handleUpdate(row) {\n\n      this.reset();\n      axios.get('/trolleys/cancelled/'+row.batch).then((response)=>{\n        let flag = response.data;\n        if(flag){\n          this.$modal.msgSuccess(\"停用成功!\");\n        }else {\n          this.$modal.msgError(\"停用失败!\");\n        }\n\n        this.cancel();\n        this.getList();\n      });\n\n    },\n    /** 启动按钮操作 */\n    handleStart(row) {\n\n      this.reset();\n      axios.get('/trolleys/start/'+row.batch).then((response)=>{\n        let flag = response.data;\n        if(flag){\n          this.$modal.msgSuccess(\"启动成功!\");\n        }else {\n          this.$modal.msgError(\"启动失败!\");\n        }\n\n        this.cancel();\n        this.getList();\n      });\n\n    },\n    /** 提交按钮 */\n    async submitForm(trolley) {\n      console.log(trolley);\n      console.log(\"www\");\n      // 添加小车\n      axios.post('/trolleys/', trolley).then((response)=>{\n        console.log(\"1\");\n        let flag = response.data;\n        if(flag){\n          this.$modal.msgSuccess(\"添加成功！\");\n        }else {\n          this.$modal.msgError(\"添加失败!\");\n        }\n\n        this.cancel();\n        this.getList();\n      }).catch((err) => {\n        this.$modal.msgError(\"添加失败!\");\n        this.cancel();\n        this.getList();\n      });\n\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const trolleyIds = row.trolleyId || this.ids;\n      this.$modal.confirm('是否确认删除小车编号为\"' + trolleyIds + '\"的数据项？').then(function() {\n\n      }).then(() => {\n        axios.delete('/trolleys/'+trolleyIds).then((response)=>{\n          let flag = response.data;\n          if(flag){\n            this.$modal.msgSuccess(\"删除成功!\");\n          }else {\n            this.$modal.msgError(\"删除失败!\");\n          }\n\n          this.getList();\n        });\n\n\n\n      }).catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('system/post/export', {\n        ...this.queryParams\n      }, `post_${new Date().getTime()}.xlsx`)\n    },\n    // 处理详情操作\n    handleDetail(row){\n      axios.get(\"http://localhost:8181/trolleyitems/trolley/\"+row.trolleyId).then((response)=>{\n\n        this.itemList = response.data;\n        this.detail = true;\n      })\n    },\n    // 新增单项目\n    addProduct() {\n      this.myForm.trolleyItems.push({\n        trolleyId:\"\",\n        productName:\"\",\n        trolleyQuantity:\"\",\n        trolleyPrice:\"\"\n      });\n    },\n    // 删除单项目\n    removeProduct(item) {\n      var index = this.myForm.trolleyItems.indexOf(item);\n      if (index !== -1) {\n        this.myForm.trolleyItems.splice(index, 1)\n      }\n    },\n    // 获取全部商品\n    getProducts(){\n      axios.get(\"http://localhost:8181/products/\").then((response)=>{\n        console.log('我tm带着商品来啦');\n        if(Array.isArray(response.data)){\n          this.products = response.data;\n        }else {\n          this.products = [];\n          this.products.push(response.data);\n        }\n      });\n    },\n    // 处理所有单项目\n    handleProduct(trolley){\n      let itemsList = trolley.trolleyItems;\n      let newList = [];\n\n      for(let item in itemsList){\n        for(let product in this.products){\n              if(itemsList[item].productId===this.products[product].productId){\n\n                  newList.push({\n                    trolleyId:\"\",\n                    trolleyPrice: this.products[product].price,\n                    trolleyQuantity: itemsList[item].trolleyQuantity,\n                    productId: itemsList[item].productId,\n                    productName: this.products[product].productName\n                  });\n                  break;\n              }\n        }\n      }\n      trolley.trolleyItems = newList;\n      return trolley;\n    }\n  },\n  filters:{\n    timeFormater(value){\n      return dayjs(value).format('YYYY-MM-DD HH:mm:ss')\n    },\n    categoryFormater(value){\n      if (value === \"purchase\"){\n        return \"采购入库\";\n      }else if(value === \"production\"){\n        return \"生产入库\";\n      }else {\n        return \"其他入库\";\n      }\n    }\n  },\n  watch:{\n    'queryParams.trolleyId':{\n      handler(newValue){\n        if(newValue){\n          this.queryMutex = true;\n        }else {\n          this.queryMutex = false;\n        }\n      }\n\n},\n    'queryParams.batch':{\n      handler(newValue){\n        if(newValue){\n          this.querySingle = true;\n        }\n      }\n\n    },\n    'queryParams.state':{\n      handler(newValue){\n        if(newValue){\n          this.querySingle = true;\n        }\n      }\n\n    },\n     querySelect:{\n      handler(newValue){\n        let v1 = newValue.value1;\n        let v2 = newValue.value2;\n        // 只有当两者都空时，才能修改小车编号\n        if(!v1 && !v2){\n          this.querySingle = false;\n        }\n      }\n     }\n  }\n};\n</script>\n\n<style>\n\n</style>"]}]}