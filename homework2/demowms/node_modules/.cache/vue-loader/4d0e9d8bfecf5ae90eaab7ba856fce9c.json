{"remainingRequest":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\Returnorder.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\Returnorder.vue","mtime":1682211486258},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js","mtime":1685545171187},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js","mtime":1685545146599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ109J2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCc7CmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk9yZGVyIiwKICBkaWN0czogWydzeXNfbm9ybWFsX2Rpc2FibGUnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOmAgOi0p+WNleihqOagvOaVsOaNrgogICAgICBwb3N0TGlzdDogW10sCiAgICAgIC8vIOmAgOi0p+WNlemhueebruaVsOaNrgogICAgICBpdGVtTGlzdDogW10sCiAgICAgIC8vIOWVhuWTgeaVsOaNrgogICAgICBwcm9kdWN0czpbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDmmK/lkKblvLnlh7ror6bmg4XlsYIKICAgICAgZGV0YWlsOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5LqS5pal5Y2V6YePCiAgICAgIHF1ZXJ5U2luZ2xlOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5LqS5pal5aSa6YePCiAgICAgIHF1ZXJ5TXV0ZXg6IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBvcmRlcnNJZDogdW5kZWZpbmVkLAogICAgICAgIHBheW1lbnRNZXRob2Q6IHVuZGVmaW5lZCwKICAgICAgICBvcmRlcnNTdGF0dXM6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgbXlGb3JtOiB7CiAgICAgICAgdXNlcklkOiIiLAogICAgICAgIG9yZGVyc1N0YXR1czoidW5jb21wbGV0ZWQiLAogICAgICAgIHBheW1lbnRNZXRob2Q6IiIsCiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiIiLAoKICAgICAgICBvcmRlcnNJdGVtczpbewogICAgICAgICAgb3JkZXJzSWQ6IiIsCiAgICAgICAgICBwcm9kdWN0SWQ6IiIsCiAgICAgICAgICBxdWFudGl0eToiIiwKICAgICAgICAgIHByaWNlOiIiCgogICAgICAgIH1dCiAgICAgIH0sCgogICAgfTsKICB9LAogIGNvbXB1dGVkOnsKICAgIHF1ZXJ5U2VsZWN0KCl7CiAgICAgIGxldCB2YWx1ZTEgPSB0aGlzLnF1ZXJ5UGFyYW1zLnBheW1lbnRNZXRob2Q7CiAgICAgIGxldCB2YWx1ZTIgPSB0aGlzLnF1ZXJ5UGFyYW1zLm9yZGVyc1N0YXR1czsKICAgICAgcmV0dXJue3ZhbHVlMSx2YWx1ZTJ9OwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXRQcm9kdWN0cygpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivoumAgOi0p+WNleWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvb3JkZXJzLyIpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgIGNvbnNvbGUubG9nKCfmiJF0beadpeWVpicpOwogICAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YSkpewogICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IFtdOwogICAgICAgICAgdGhpcy5wb3N0TGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuZGV0YWlsID0gZmFsc2U7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMubXlGb3JtID17CiAgICAgICAgdXNlcklkOiIiLAogICAgICAgIG9yZGVyc1N0YXR1czoidW5jb21wbGV0ZWQiLAogICAgICAgIHBheW1lbnRNZXRob2Q6IiIsCiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiIiLAoKICAgICAgICBvcmRlcnNJdGVtczpbewogICAgICAgICAgb3JkZXJzSWQ6IiIsCiAgICAgICAgICBxdWFudGl0eToiIiwKICAgICAgICAgIHByaWNlOiIiCgogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHRoaXMuaXRlbUxpc3QgPSBbXTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCiAgICByZXNldEZvcm0oZm9ybSl7CiAgICAgIHRoaXMuZm9ybSA9IGZvcm07CiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB7CiAgICAgICAgb3JkZXJzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwYXltZW50TWV0aG9kOiB1bmRlZmluZWQsCiAgICAgICAgb3JkZXJzU3RhdHVzOiB1bmRlZmluZWQKICAgICAgfTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgaWYgKHRoaXMucXVlcnlQYXJhbXMub3JkZXJzSWQpewogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL29yZGVycy8iK3RoaXMucXVlcnlQYXJhbXMub3JkZXJzSWQpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGE9PT0iIil7CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBlbHNlIGlmKHRoaXMucXVlcnlQYXJhbXMucGF5bWVudE1ldGhvZCl7CiAgICAgICAgaWYodGhpcy5xdWVyeVBhcmFtcy5vcmRlcnNTdGF0dXMpewogICAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvb3JkZXJzL3BheW1lbnRNZXRob2QvIit0aGlzLnF1ZXJ5UGFyYW1zLnBheW1lbnRNZXRob2QrIi8iK3RoaXMucXVlcnlQYXJhbXMub3JkZXJzU3RhdHVzKQogICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgLy8g5Yik5pat5piv5LiN5piv5YiX6KGoCiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YSkpewogICAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IFtdOwogICAgICAgICAgICAgIHRoaXMucG9zdExpc3QucHVzaChyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9vcmRlcnMvcGF5bWVudE1ldGhvZC8iK3RoaXMucXVlcnlQYXJhbXMucGF5bWVudE1ldGhvZCkudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIC8vIOWIpOaWreaYr+S4jeaYr+WIl+ihqAogICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKXsKICAgICAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgICAgICB0aGlzLnBvc3RMaXN0LnB1c2gocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5xdWVyeVBhcmFtcy5vcmRlcnNTdGF0dXMpewogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL29yZGVycy9zdGF0dXMvIit0aGlzLnF1ZXJ5UGFyYW1zLm9yZGVyc1N0YXR1cykudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgLy8g5Yik5pat5piv5LiN5piv5YiX6KGoCiAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKXsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9CgoKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5vcmRlcnNJZCkKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT0xCiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aAogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOmAgOi0p+WNlSI7CiAgICB9LAogICAgLyoqIOWPlua2iOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICBsZXQgb3JkZXJzID0gewogICAgICAgIG9yZGVyc0lkOiByb3cub3JkZXJzSWQsCiAgICAgICAgdXNlcklkOnJvdy51c2VySWQsCiAgICAgICAgb3JkZXJzU3RhdHVzOiJjYW5jZWxsZWQiLAogICAgICAgIHBheW1lbnRNZXRob2Q6cm93LnBheW1lbnRNZXRob2QsCiAgICAgICAgb3JkZXJzVGltZTpyb3cub3JkZXJzVGltZSwKICAgICAgICBzaGlwcGluZ0FkZHJlc3M6cm93LnNoaXBwaW5nQWRkcmVzcwogICAgICB9OwoKICAgICAgdGhpcy5yZXNldCgpOwogICAgICBheGlvcy5wdXQoJy9vcmRlcnMvJywgb3JkZXJzKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICBsZXQgZmxhZyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYoZmxhZyl7CiAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLlj5bmtojmiJDlip8hIik7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy4kbW9kYWwubXNnRXJyb3IoIuWPlua2iOWksei0pSEiKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0pOwoKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBhc3luYyBzdWJtaXRGb3JtKG9yZGVycykgewogICAgICBvcmRlcnMgPSB0aGlzLmhhbmRsZVByb2R1Y3Qob3JkZXJzKTsKICAgICAgY29uc29sZS5sb2coInd3dyIpOwogICAgICBvcmRlcnMudXNlcklkID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlcmlkOwogICAgICBjb25zb2xlLmxvZyhvcmRlcnMudXNlcklkKTsKICAgICAgY29uc29sZS5sb2cob3JkZXJzKTsKCiAgICAgIC8vIOa3u+WKoOmAgOi0p+WNlQogICAgICBheGlvcy5wb3N0KCcvb3JkZXJzLycsIG9yZGVycykudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgY29uc29sZS5sb2coIjEiKTsKICAgICAgICBsZXQgZmxhZyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYoZmxhZyl7CiAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLmt7vliqDmiJDlip/vvIEiKTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5re75Yqg5aSx6LSlISIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLmt7vliqDlpLHotKUhIik7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfSk7CgogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgY29uc3Qgb3JkZXJzSWRzID0gcm93Lm9yZGVyc0lkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTpgIDotKfljZXnvJblj7fkuLoiJyArIG9yZGVyc0lkcyArICci55qE5pWw5o2u6aG577yfJykudGhlbihmdW5jdGlvbigpIHsKCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGF4aW9zLmRlbGV0ZSgnL29yZGVycy8nK29yZGVyc0lkcykudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICBsZXQgZmxhZyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBpZihmbGFnKXsKICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfISIpOwogICAgICAgICAgfWVsc2UgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5Yig6Zmk5aSx6LSlISIpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwoKCgogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICB0aGlzLmRvd25sb2FkKCdzeXN0ZW0vcG9zdC9leHBvcnQnLCB7CiAgICAgICAgLi4udGhpcy5xdWVyeVBhcmFtcwogICAgICB9LCBgcG9zdF8ke25ldyBEYXRlKCkuZ2V0VGltZSgpfS54bHN4YCkKICAgIH0sCiAgICAvLyDlpITnkIbor6bmg4Xmk43kvZwKICAgIGhhbmRsZURldGFpbChyb3cpewogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9vcmRlcnNpdGVtcy9vcmRlcnMvIityb3cub3JkZXJzSWQpLnRoZW4oKHJlc3BvbnNlKT0+ewoKICAgICAgICB0aGlzLml0ZW1MaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLmRldGFpbCA9IHRydWU7CiAgICAgIH0pCiAgICB9LAogICAgLy8g5paw5aKe5Y2V6aG555uuCiAgICBhZGRQcm9kdWN0KCkgewogICAgICB0aGlzLm15Rm9ybS5vcmRlcnNJdGVtcy5wdXNoKHsKICAgICAgICBvcmRlcnNJZDoiIiwKICAgICAgICBxdWFudGl0eToiIiwKICAgICAgICBwcmljZToiIgogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTljZXpobnnm64KICAgIHJlbW92ZVByb2R1Y3QoaXRlbSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLm15Rm9ybS5vcmRlcnNJdGVtcy5pbmRleE9mKGl0ZW0pOwogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy5teUZvcm0ub3JkZXJzSXRlbXMuc3BsaWNlKGluZGV4LCAxKQogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W5YWo6YOo5ZWG5ZOBCiAgICBnZXRQcm9kdWN0cygpewogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9wcm9kdWN0cy8iKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICBjb25zb2xlLmxvZygn5oiRdG3luKbnnYDllYblk4HmnaXllaYnKTsKICAgICAgICBpZihBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKXsKICAgICAgICAgIHRoaXMucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHRoaXMucHJvZHVjdHMgPSBbXTsKICAgICAgICAgIHRoaXMucHJvZHVjdHMucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWkhOeQhuaJgOacieWNlemhueebrgogICAgaGFuZGxlUHJvZHVjdChvcmRlcnMpewogICAgICBsZXQgaXRlbXNMaXN0ID0gb3JkZXJzLm9yZGVyc0l0ZW1zOwogICAgICBsZXQgbmV3TGlzdCA9IFtdOwoKICAgICAgZm9yKGxldCBpdGVtIGluIGl0ZW1zTGlzdCl7CiAgICAgICAgZm9yKGxldCBwcm9kdWN0IGluIHRoaXMucHJvZHVjdHMpewogICAgICAgICAgICAgIGlmKGl0ZW1zTGlzdFtpdGVtXS5wcm9kdWN0SWQ9PT10aGlzLnByb2R1Y3RzW3Byb2R1Y3RdLnByb2R1Y3RJZCl7CgogICAgICAgICAgICAgICAgICBuZXdMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICAgIG9yZGVyc0lkOiIiLAogICAgICAgICAgICAgICAgICAgIHByaWNlOiB0aGlzLnByb2R1Y3RzW3Byb2R1Y3RdLnByaWNlLAogICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBpdGVtc0xpc3RbaXRlbV0ucXVhbnRpdHksCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtc0xpc3RbaXRlbV0ucHJvZHVjdElkLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBvcmRlcnMub3JkZXJzSXRlbXMgPSBuZXdMaXN0OwogICAgICByZXR1cm4gb3JkZXJzOwogICAgfQogIH0sCiAgZmlsdGVyczp7CiAgICB0aW1lRm9ybWF0ZXIodmFsdWUpewogICAgICByZXR1cm4gZGF5anModmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICB9LAogICAgY2F0ZWdvcnlGb3JtYXRlcih2YWx1ZSl7CiAgICAgIGlmICh2YWx1ZSA9PT0gImVsZWN0cm9uaWMiKXsKICAgICAgICByZXR1cm4gIumHh+mAgCI7CiAgICAgIH1lbHNlIGlmKHZhbHVlID09PSAiY2FzaCIpewogICAgICAgIHJldHVybiAi6ZSA6YCAIjsKICAgICAgfWVsc2UgewogICAgICAgIHJldHVybiAi5YW25LuWIjsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6ewogICAgJ3F1ZXJ5UGFyYW1zLm9yZGVyc0lkJzp7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUpewogICAgICAgIGlmKG5ld1ZhbHVlKXsKICAgICAgICAgIHRoaXMucXVlcnlNdXRleCA9IHRydWU7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy5xdWVyeU11dGV4ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9Cgp9LAogICAgJ3F1ZXJ5UGFyYW1zLnBheW1lbnRNZXRob2QnOnsKICAgICAgaGFuZGxlcihuZXdWYWx1ZSl7CiAgICAgICAgaWYobmV3VmFsdWUpewogICAgICAgICAgdGhpcy5xdWVyeVNpbmdsZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgfSwKICAgICdxdWVyeVBhcmFtcy5vcmRlcnNTdGF0dXMnOnsKICAgICAgaGFuZGxlcihuZXdWYWx1ZSl7CiAgICAgICAgaWYobmV3VmFsdWUpewogICAgICAgICAgdGhpcy5xdWVyeVNpbmdsZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgfSwKICAgICBxdWVyeVNlbGVjdDp7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUpewogICAgICAgIGxldCB2MSA9IG5ld1ZhbHVlLnZhbHVlMTsKICAgICAgICBsZXQgdjIgPSBuZXdWYWx1ZS52YWx1ZTI7CiAgICAgICAgLy8g5Y+q5pyJ5b2T5Lik6ICF6YO956m65pe277yM5omN6IO95L+u5pS56YCA6LSn5Y2V57yW5Y+3CiAgICAgICAgaWYoIXYxICYmICF2Mil7CiAgICAgICAgICB0aGlzLnF1ZXJ5U2luZ2xlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgfQogIH0KfTsK"},{"version":3,"sources":["Returnorder.vue"],"names":[],"mappings":";AAoOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Returnorder.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"100px\">\n      <el-form-item label=\"退货单编号\" prop=\"ordersId\" >\n        <el-input\n          v-model=\"queryParams.ordersId\"\n          placeholder=\"请输入退货单编号\"\n          clearable\n          :disabled=\"querySingle\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"退货方式\" prop=\"paymentMethod\">\n        <el-select v-model=\"queryParams.paymentMethod\" placeholder=\"退货方式\" clearable :disabled=\"queryMutex\">\n          <el-option\n              key=\"1\"\n              label=\"采退\"\n              value=\"electronic\"\n          />\n          <el-option\n              key=\"2\"\n              label=\"销退\"\n              value=\"cash\"\n          />\n          <el-option\n              key=\"3\"\n              label=\"其他\"\n              value=\"other\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"状态\" prop=\"ordersStatus\">\n        <el-select v-model=\"queryParams.ordersStatus\" placeholder=\"退货单状态\" clearable :disabled=\"queryMutex\">\n          <el-option\n            key=\"1\"\n            label=\"进行中\"\n            value=\"uncompleted\"\n          />\n          <el-option\n              key=\"2\"\n              label=\"已完成\"\n              value=\"completed\"\n          />\n          <el-option\n              key=\"3\"\n              label=\"已取消\"\n              value=\"cancelled\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n\n        >取消</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n\n        >删除</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-download\"\n          size=\"mini\"\n          @click=\"handleExport\"\n        >导出</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"postList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"退货单编号\" align=\"center\" prop=\"ordersId\" />\n      <el-table-column label=\"退货方式\" align=\"center\" prop=\"paymentMethod\">\n        <template slot-scope=\"scope\">\n          {{scope.row.paymentMethod | categoryFormater}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"创建者编号\" align=\"center\" prop=\"userId\"/>\n      <el-table-column label=\"状态\" align=\"center\" prop=\"ordersStatus\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.ordersStatus==='completed'\" type=\"success\">\n            已完成\n          </el-tag>\n          <el-tag v-else-if=\"scope.row.ordersStatus==='uncompleted'\" type=\"warning\">\n            进行中\n          </el-tag>\n          <el-tag v-else type=\"info\">\n            已取消\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"创建时间\" align=\"center\"  width=\"180\">\n        <template slot-scope=\"scope\">\n          {{scope.row.ordersTime | timeFormater}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"退货地址\" align=\"center\" prop=\"shippingAddress\"/>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n              size=\"mini\"\n              type=\"text\"\n              icon=\"el-icon-more\"\n              @click=\"handleDetail(scope.row)\"\n\n          >详情</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n\n          >取消</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加或修改退货单对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"800px\" append-to-body>\n      <el-form ref=\"myForm\" :model=\"myForm\" label-width=\"100px\">\n        <el-form-item label=\"退货方式\" prop=\"paymentMethod\">\n          <el-select v-model=\"myForm.paymentMethod\" placeholder=\"退货方式\" clearable >\n            <el-option\n                label=\"采退\"\n                value=\"electronic\"\n            />\n            <el-option\n                label=\"销退\"\n                value=\"cash\"\n            />\n            <el-option\n                label=\"其他\"\n                value=\"other\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"退货地址\" prop=\"shippingAddress\">\n          <el-input v-model=\"myForm.shippingAddress\" placeholder=\"退货地址\" ></el-input>\n        </el-form-item>\n        <el-form-item\n            v-for=\"(product,index) in myForm.ordersItems\"\n            :label=\"'商品'+index\"\n            :key=\"product.productId\"\n            >\n\n\n          <el-row :gutter=\"24\">\n            <el-col :span=\"7\"><el-select v-model=\"product.productId\" placeholder=\"商品名称\" clearable :disabled=\"queryMutex\">\n              <el-option\n                  v-for=\"item in products\"\n                  :key=\"item.productId\"\n                  :label=\"item.productName\"\n                  :value=\"item.productId\"\n              ></el-option>\n            </el-select></el-col>\n            <el-col :span=\"7\"><el-input v-model=\"product.quantity\" placeholder=\"数量\" ></el-input></el-col>\n            <el-col :span=\"8\"><el-button @click.prevent=\"removeProduct(product)\">删除</el-button></el-col>\n          </el-row>\n        </el-form-item>\n\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm(myForm)\">确 定</el-button>\n        <el-button @click=\"addProduct\">新增商品</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 详情对话框 -->\n    <el-dialog title=\"表单详情\" :visible.sync=\"detail\" width=\"1000px\" append-to-body>\n      <el-table v-loading=\"loading\" :data=\"itemList\" height=\"400px\">\n\n        <el-table-column label=\"单项编号\" align=\"center\" prop=\"ordersItemsId\" />\n        <el-table-column label=\"退货单编号\" align=\"center\" prop=\"ordersId\" />\n        <el-table-column label=\"产品编号\" align=\"center\" prop=\"productId\"/>\n        <el-table-column label=\"数量\" align=\"center\" prop=\"quantity\"/>\n        <el-table-column label=\"单价\" align=\"center\" prop=\"price\"/>\n\n\n\n      </el-table>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.headers.post['Content-Type']='application/json;charset=UTF-8';\nimport dayjs from \"dayjs\";\n\nexport default {\n  name: \"Order\",\n  dicts: ['sys_normal_disable'],\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 退货单表格数据\n      postList: [],\n      // 退货单项目数据\n      itemList: [],\n      // 商品数据\n      products:[],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 是否弹出详情层\n      detail: false,\n      // 查询互斥单量\n      querySingle: false,\n      // 查询互斥多量\n      queryMutex: false,\n      // 查询参数\n      queryParams: {\n        ordersId: undefined,\n        paymentMethod: undefined,\n        ordersStatus: undefined\n      },\n      // 表单参数\n      myForm: {\n        userId:\"\",\n        ordersStatus:\"uncompleted\",\n        paymentMethod:\"\",\n        shippingAddress:\"\",\n\n        ordersItems:[{\n          ordersId:\"\",\n          productId:\"\",\n          quantity:\"\",\n          price:\"\"\n\n        }]\n      },\n\n    };\n  },\n  computed:{\n    querySelect(){\n      let value1 = this.queryParams.paymentMethod;\n      let value2 = this.queryParams.ordersStatus;\n      return{value1,value2};\n    }\n  },\n  created() {\n    this.getList();\n    this.getProducts();\n  },\n  methods: {\n    /** 查询退货单列表 */\n    getList() {\n      this.loading = true;\n      axios.get(\"http://localhost:8181/orders/\").then((response)=>{\n        console.log('我tm来啦');\n        if(Array.isArray(response.data)){\n          this.postList = response.data;\n        }else {\n          this.postList = [];\n          this.postList.push(response.data);\n        }\n      });\n      this.loading = false;\n\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.detail = false;\n\n      this.reset();\n      this.getList();\n    },\n    // 表单重置\n    reset() {\n      this.myForm ={\n        userId:\"\",\n        ordersStatus:\"uncompleted\",\n        paymentMethod:\"\",\n        shippingAddress:\"\",\n\n        ordersItems:[{\n          ordersId:\"\",\n          quantity:\"\",\n          price:\"\"\n\n        }]\n      };\n      this.itemList = [];\n      this.resetForm(\"form\");\n    },\n    resetForm(form){\n      this.form = form;\n      this.queryParams = {\n        ordersId: undefined,\n        paymentMethod: undefined,\n        ordersStatus: undefined\n      };\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      if (this.queryParams.ordersId){\n        axios.get(\"http://localhost:8181/orders/\"+this.queryParams.ordersId).then((response)=>{\n          this.loading = true;\n          if(response.data===\"\"){\n            this.postList = [];\n          }else {\n            console.log(response);\n            this.postList = [];\n            this.postList.push(response.data);\n          }\n\n          this.loading = false;\n        });\n      }\n      else if(this.queryParams.paymentMethod){\n        if(this.queryParams.ordersStatus){\n          axios.get(\"http://localhost:8181/orders/paymentMethod/\"+this.queryParams.paymentMethod+\"/\"+this.queryParams.ordersStatus)\n              .then((response)=>{\n            this.loading = true;\n            // 判断是不是列表\n            if(Array.isArray(response.data)){\n              this.postList = response.data;\n            }else {\n              this.postList = [];\n              this.postList.push(response.data);\n\n            }\n            this.loading = false;\n          });\n        }else {\n          axios.get(\"http://localhost:8181/orders/paymentMethod/\"+this.queryParams.paymentMethod).then((response)=>{\n            this.loading = true;\n            // 判断是不是列表\n            if(Array.isArray(response.data)){\n              this.postList = response.data;\n            }else {\n              this.postList = [];\n              this.postList.push(response.data);\n\n            }\n            this.loading = false;\n          });\n        }\n      }\n      else if(this.queryParams.ordersStatus){\n        axios.get(\"http://localhost:8181/orders/status/\"+this.queryParams.ordersStatus).then((response)=>{\n          this.loading = true;\n          // 判断是不是列表\n          if(Array.isArray(response.data)){\n            this.postList = response.data;\n          }else {\n            this.postList = [];\n            this.postList.push(response.data);\n\n          }\n          this.loading = false;\n        });\n      }\n      else {\n        this.getList();\n      }\n\n\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.ordersId)\n      this.single = selection.length!=1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加退货单\";\n    },\n    /** 取消按钮操作 */\n    handleUpdate(row) {\n      let orders = {\n        ordersId: row.ordersId,\n        userId:row.userId,\n        ordersStatus:\"cancelled\",\n        paymentMethod:row.paymentMethod,\n        ordersTime:row.ordersTime,\n        shippingAddress:row.shippingAddress\n      };\n\n      this.reset();\n      axios.put('/orders/', orders).then((response)=>{\n        let flag = response.data;\n        if(flag){\n          this.$modal.msgSuccess(\"取消成功!\");\n        }else {\n          this.$modal.msgError(\"取消失败!\");\n        }\n\n        this.cancel();\n        this.getList();\n      });\n\n    },\n    /** 提交按钮 */\n    async submitForm(orders) {\n      orders = this.handleProduct(orders);\n      console.log(\"www\");\n      orders.userId = this.$store.state.userid;\n      console.log(orders.userId);\n      console.log(orders);\n\n      // 添加退货单\n      axios.post('/orders/', orders).then((response)=>{\n        console.log(\"1\");\n        let flag = response.data;\n        if(flag){\n          this.$modal.msgSuccess(\"添加成功！\");\n        }else {\n          this.$modal.msgError(\"添加失败!\");\n        }\n\n        this.cancel();\n        this.getList();\n      }).catch((err) => {\n        this.$modal.msgError(\"添加失败!\");\n        this.cancel();\n        this.getList();\n      });\n\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const ordersIds = row.ordersId || this.ids;\n      this.$modal.confirm('是否确认删除退货单编号为\"' + ordersIds + '\"的数据项？').then(function() {\n\n      }).then(() => {\n        axios.delete('/orders/'+ordersIds).then((response)=>{\n          let flag = response.data;\n          if(flag){\n            this.$modal.msgSuccess(\"删除成功!\");\n          }else {\n            this.$modal.msgError(\"删除失败!\");\n          }\n\n          this.getList();\n        });\n\n\n\n      }).catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('system/post/export', {\n        ...this.queryParams\n      }, `post_${new Date().getTime()}.xlsx`)\n    },\n    // 处理详情操作\n    handleDetail(row){\n      axios.get(\"http://localhost:8181/ordersitems/orders/\"+row.ordersId).then((response)=>{\n\n        this.itemList = response.data;\n        this.detail = true;\n      })\n    },\n    // 新增单项目\n    addProduct() {\n      this.myForm.ordersItems.push({\n        ordersId:\"\",\n        quantity:\"\",\n        price:\"\"\n      });\n    },\n    // 删除单项目\n    removeProduct(item) {\n      var index = this.myForm.ordersItems.indexOf(item);\n      if (index !== -1) {\n        this.myForm.ordersItems.splice(index, 1)\n      }\n    },\n    // 获取全部商品\n    getProducts(){\n      axios.get(\"http://localhost:8181/products/\").then((response)=>{\n        console.log('我tm带着商品来啦');\n        if(Array.isArray(response.data)){\n          this.products = response.data;\n        }else {\n          this.products = [];\n          this.products.push(response.data);\n        }\n      });\n    },\n    // 处理所有单项目\n    handleProduct(orders){\n      let itemsList = orders.ordersItems;\n      let newList = [];\n\n      for(let item in itemsList){\n        for(let product in this.products){\n              if(itemsList[item].productId===this.products[product].productId){\n\n                  newList.push({\n                    ordersId:\"\",\n                    price: this.products[product].price,\n                    quantity: itemsList[item].quantity,\n                    productId: itemsList[item].productId,\n                  });\n                  break;\n              }\n        }\n      }\n      orders.ordersItems = newList;\n      return orders;\n    }\n  },\n  filters:{\n    timeFormater(value){\n      return dayjs(value).format('YYYY-MM-DD HH:mm:ss')\n    },\n    categoryFormater(value){\n      if (value === \"electronic\"){\n        return \"采退\";\n      }else if(value === \"cash\"){\n        return \"销退\";\n      }else {\n        return \"其他\";\n      }\n    }\n  },\n  watch:{\n    'queryParams.ordersId':{\n      handler(newValue){\n        if(newValue){\n          this.queryMutex = true;\n        }else {\n          this.queryMutex = false;\n        }\n      }\n\n},\n    'queryParams.paymentMethod':{\n      handler(newValue){\n        if(newValue){\n          this.querySingle = true;\n        }\n      }\n\n    },\n    'queryParams.ordersStatus':{\n      handler(newValue){\n        if(newValue){\n          this.querySingle = true;\n        }\n      }\n\n    },\n     querySelect:{\n      handler(newValue){\n        let v1 = newValue.value1;\n        let v2 = newValue.value2;\n        // 只有当两者都空时，才能修改退货单编号\n        if(!v1 && !v2){\n          this.querySingle = false;\n        }\n      }\n     }\n  }\n};\n</script>\n\n<style>\n\n</style>"]}]}