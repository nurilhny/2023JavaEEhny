{"remainingRequest":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\User.vue","mtime":1685604665661},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\babel.config.js","mtime":1681728649966},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js","mtime":1685545171187},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js","mtime":1685545146599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JzsKaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyIiwKICBkaWN0czogWydzeXNfbm9ybWFsX2Rpc2FibGUnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOWFpeW6k+WNleihqOagvOaVsOaNrgogICAgICBwb3N0TGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5by55Ye66K+m5oOF5bGCCiAgICAgIGRldGFpbDogZmFsc2UsCiAgICAgIC8vIOafpeivouS6kuaWpeWNlemHjwogICAgICBxdWVyeVNpbmdsZTogZmFsc2UsCiAgICAgIC8vIOafpeivouS6kuaWpeWkmumHjwogICAgICBxdWVyeU11dGV4OiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgdXNlcklkOiB1bmRlZmluZWQsCiAgICAgICAgdHlwZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBteUZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBhY2NvdW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6LSm5oi35LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNSwKICAgICAgICAgIG1heDogMjAsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35a+G56CB6ZW/5bqm5b+F6aG75LuL5LqOIDUg5ZKMIDIwIOS5i+mXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouWyl+S9jeWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ3Rva2VuJ10gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbjsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvdXNlcnMvIikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+aIkXRt5p2l5ZWmJyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YSkpIHsKICAgICAgICAgIHRoaXMucG9zdExpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gW107CiAgICAgICAgICB0aGlzLnBvc3RMaXN0LnB1c2gocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLmRldGFpbCA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMubXlGb3JtID0ge307CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9LAogICAgcmVzZXRGb3JtKCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gewogICAgICAgIHVzZXJJZDogdW5kZWZpbmVkLAogICAgICAgIHR5cGU6IHVuZGVmaW5lZAogICAgICB9OwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICBpZiAodGhpcy5xdWVyeVBhcmFtcy51c2VySWQpIHsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS91c2Vycy8iICsgdGhpcy5xdWVyeVBhcmFtcy51c2VySWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuS4uuepugogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICIiKSB7CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IFtdOwogICAgICAgICAgICB0aGlzLnBvc3RMaXN0LnB1c2gocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS51c2VySWQpOwogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT0gMTsKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoOwogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOeUqOaItyI7CiAgICB9LAogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MTgxL3VzZXJzLyIgKyByb3cudXNlcklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEpOwogICAgICAgIHRoaXMubXlGb3JtID0gcmVzcG9uc2UuZGF0YS5kYXRhLnVzZXI7CiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgICB0aGlzLnRpdGxlID0gIuS/ruaUueeUqOaItyI7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tIik7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLSIpOwogICAgICBpZiAodGhpcy5teUZvcm0udXNlcklkICE9IHVuZGVmaW5lZCkgewogICAgICAgIC8vIOabtOaWsAogICAgICAgIGF4aW9zLnB1dCgnL3VzZXJzLycsIHVzZXIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgbGV0IGZsYWcgPSByZXNwb25zZS5kYXRhLnN1Y2Nlc3M7CiAgICAgICAgICBpZiAoZmxhZykgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLmm7TmlrDmiJDlip8hIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5pu05paw5aSx6LSlISIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOa3u+WKoAogICAgICAgIGF4aW9zLnBvc3QoJy91c2VycycsIHVzZXIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgbGV0IGZsYWcgPSByZXNwb25zZS5kYXRhLnN1Y2Nlc3M7CiAgICAgICAgICBpZiAoZmxhZykgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLmt7vliqDmiJDlip8hIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5re75Yqg5aSx6LSlISIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCB1c2VySWRzID0gcm93LnVzZXJJZCB8fCB0aGlzLmlkczsKICAgICAgY29uc29sZS5sb2codXNlcklkcyk7CiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOeUqOaIt+e8luWPt+S4uiInICsgdXNlcklkcyArICci55qE5pWw5o2u6aG577yfJykudGhlbihmdW5jdGlvbiAoKSB7fSkudGhlbigoKSA9PiB7CiAgICAgICAgYXhpb3MuZGVsZXRlKCcvdXNlcnMvJyArIHVzZXJJZHMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgbGV0IGZsYWcgPSByZXNwb25zZS5kYXRhLnN1Y2Nlc3M7CiAgICAgICAgICBpZiAoZmxhZykgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8hIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5Yig6Zmk5aSx6LSlISIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIHRpbWVGb3JtYXRlcih2YWx1ZSkgewogICAgICByZXR1cm4gZGF5anModmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgfSwKICAgIGNhdGVnb3J5Rm9ybWF0ZXIodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAidXNlciIpIHsKICAgICAgICByZXR1cm4gIueUqOaItyI7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICJtYW5hZ2VyIikgewogICAgICAgIHJldHVybiAi566h55CG5ZGYIjsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gImNvdXJpZXIiKSB7CiAgICAgICAgcmV0dXJuICLov5DotKflkZgiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAi5peg6Lqr5Lu9IjsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdxdWVyeVBhcmFtcy51c2VySWQnOiB7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICAgIHRoaXMucXVlcnlNdXRleCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucXVlcnlNdXRleCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICdxdWVyeVBhcmFtcy50eXBlJzogewogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5U2luZ2xlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5xdWVyeVNpbmdsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["axios","defaults","headers","post","dayjs","name","dicts","data","loading","ids","single","multiple","showSearch","total","postList","title","open","detail","querySingle","queryMutex","queryParams","userId","undefined","type","myForm","rules","account","required","message","trigger","password","min","max","created","getList","methods","common","$store","state","token","get","then","response","console","log","Array","isArray","push","cancel","reset","resetForm","handleQuery","user","resetQuery","handleSelectionChange","selection","map","item","length","handleAdd","handleUpdate","row","submitForm","put","flag","success","$modal","msgSuccess","msgError","handleDelete","userIds","confirm","delete","catch","filters","timeFormater","value","format","categoryFormater","watch","handler","newValue"],"sources":["src/views/User.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"100px\">\n      <el-form-item label=\"用户编号\" prop=\"userId\" >\n        <el-input\n          v-model=\"queryParams.userId\"\n          placeholder=\"请输入用户编号\"\n          clearable\n          :disabled=\"querySingle\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"用户类型\" prop=\"type\">\n        <el-select v-model=\"queryParams.type\" placeholder=\"用户类型\" clearable :disabled=\"queryMutex\">\n          <el-option\n              key=\"1\"\n              label=\"用户\"\n              value=\"user\"\n          />\n          <el-option\n              key=\"2\"\n              label=\"运货员\"\n              value=\"courier\"\n          />\n          <el-option\n              key=\"3\"\n              label=\"管理员\"\n              value=\"manager\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n\n        >修改</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n\n        >删除</el-button>\n      </el-col>\n\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"postList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"用户编号\" align=\"center\" prop=\"userId\" />\n      <el-table-column label=\"帐号\" align=\"center\" prop=\"account\"/>\n      <el-table-column label=\"密码\" align=\"center\" prop=\"password\"/>\n      <el-table-column label=\"姓名\" align=\"center\" prop=\"userName\"/>\n      <el-table-column label=\"用户类型\" align=\"center\" prop=\"userType\">\n        <template slot-scope=\"scope\">\n          {{scope.row.userType | categoryFormater}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"地址\" align=\"center\" prop=\"address\"/>\n      <el-table-column label=\"电话\" align=\"center\" prop=\"phone\"/>\n\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加或修改用户对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"myForm\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"账户\" prop=\"account\">\n          <el-input v-model=\"myForm.account\" placeholder=\"请输入帐号\"/>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"myForm.password\" placeholder=\"请输入密码\"/>\n        </el-form-item>\n        <el-form-item label=\"姓名\" prop=\"userName\">\n          <el-input v-model=\"myForm.userName\" placeholder=\"请输入姓名\"/>\n        </el-form-item>\n        <el-form-item label=\"用户类型\" prop=\"type\">\n          <el-radio-group v-model=\"myForm.userType\">\n            <el-radio\n              label=\"user\"\n            >用户</el-radio>\n            <el-radio\n                label=\"manager\"\n            >管理员</el-radio>\n            <el-radio\n                label=\"courier\"\n            >运货员</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"地址\" prop=\"address\">\n          <el-input v-model=\"myForm.address\" placeholder=\"请地址\"/>\n        </el-form-item>\n        <el-form-item label=\"电话\" prop=\"phone\">\n          <el-input v-model=\"myForm.phone\" placeholder=\"请输入电话\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm(myForm)\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.headers.post['Content-Type']='application/json;charset=UTF-8';\n\nimport dayjs from \"dayjs\";\n\nexport default {\n  name: \"User\",\n  dicts: ['sys_normal_disable'],\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 入库单表格数据\n      postList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 是否弹出详情层\n      detail: false,\n      // 查询互斥单量\n      querySingle: false,\n      // 查询互斥多量\n      queryMutex: false,\n      // 查询参数\n      queryParams: {\n        userId: undefined,\n        type: undefined\n      },\n      // 表单参数\n      myForm: {},\n      // 表单校验\n      rules: {\n        account: [\n          { required: true, message: \"账户不能为空\", trigger: \"blur\" }\n        ],\n        password: [\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" },\n          { min: 5, max: 20, message: '用户密码长度必须介于 5 和 20 之间', trigger: 'blur' }\n        ],\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询岗位列表 */\n    getList() {\n      this.loading = true;\n      axios.defaults.headers.common['token']=this.$store.state.token;\n      axios.get(\"http://localhost:8181/users/\").then((response)=>{\n        console.log('我tm来啦');\n        console.log(response.data);\n        if(Array.isArray(response.data)){\n          this.postList = response.data;\n        }else {\n          this.postList = [];\n          this.postList.push(response.data);\n        }\n      });\n      this.loading = false;\n\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.detail = false;\n\n      this.reset();\n      this.getList();\n    },\n    // 表单重置\n    reset() {\n      this.myForm = {\n\n      };\n      this.resetForm();\n    },\n    resetForm(){\n      this.queryParams = {\n        userId: undefined,\n        type: undefined\n      };\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      if (this.queryParams.userId){\n        axios.get(\"http://localhost:8181/users/\"+this.queryParams.userId).then((response)=>{\n          console.log(response);\n          this.loading = true;\n          // 判断是否为空\n          if(response.data===\"\"){\n            this.postList = [];\n          }else {\n            console.log(response);\n            this.postList = [];\n            this.postList.push(response.data.data.user);\n          }\n\n          this.loading = false;\n        });\n      }\n      else {\n        this.getList();\n      }\n\n\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.userId)\n      this.single = selection.length!=1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加用户\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      axios.get(\"http://localhost:8181/users/\"+row.userId).then((response)=>{\n          console.log(response.data.data);\n          this.myForm = response.data.data.user;\n          this.open = true;\n          this.title = \"修改用户\";\n\n\n        });\n\n\n\n    },\n    /** 提交按钮 */\n    submitForm: function(user) {\n      console.log(\"----------\")\n      console.log(user);\n      console.log(\"----------\")\n      if (this.myForm.userId != undefined){\n        // 更新\n        axios.put('/users/', user).then((response)=>{\n          let flag = response.data.success;\n          if(flag){\n            this.$modal.msgSuccess(\"更新成功!\");\n          }else {\n            this.$modal.msgError(\"更新失败!\");\n          }\n\n          this.cancel();\n          this.getList();\n        });\n      }else {\n        // 添加\n        axios.post('/users', user).then((response)=>{\n          let flag = response.data.success;\n          if(flag){\n            this.$modal.msgSuccess(\"添加成功!\");\n          }else {\n            this.$modal.msgError(\"添加失败!\");\n          }\n\n          this.cancel();\n          this.getList();\n        });\n      }\n\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const userIds = row.userId || this.ids;\n      console.log(userIds);\n      this.$modal.confirm('是否确认删除用户编号为\"' + userIds + '\"的数据项？').then(function() {\n\n      }).then(() => {\n\n        axios.delete('/users/'+userIds).then((response)=>{\n          let flag = response.data.success;\n          if(flag){\n            this.$modal.msgSuccess(\"删除成功!\");\n          }else {\n            this.$modal.msgError(\"删除失败!\");\n          }\n\n          this.getList();\n        });\n\n\n      }).catch(() => {});\n    }\n  },\n  filters:{\n    timeFormater(value){\n      return dayjs(value).format('YYYY-MM-DD HH:mm:ss')\n    },\n    categoryFormater(value){\n      if (value === \"user\"){\n        return \"用户\";\n      }else if(value === \"manager\"){\n        return \"管理员\";\n      }else if(value===\"courier\"){\n        return \"运货员\";\n      } else {\n        return \"无身份\";\n      }\n    }\n  },\n  watch:{\n    'queryParams.userId':{\n      handler(newValue){\n        if(newValue){\n          this.queryMutex = true;\n        }else {\n          this.queryMutex = false;\n        }\n      }\n\n},\n    'queryParams.type':{\n      handler(newValue){\n        if(newValue){\n          this.querySingle = true;\n        }else {\n          this.querySingle = false;\n        }\n      }\n\n    },\n\n  }\n};\n</script>\n"],"mappings":"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"}]}