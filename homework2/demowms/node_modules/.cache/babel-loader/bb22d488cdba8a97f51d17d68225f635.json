{"remainingRequest":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\Stock.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\views\\Stock.vue","mtime":1682133410644},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\babel.config.js","mtime":1681728649966},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js","mtime":1685545171187},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\vue-loader\\lib\\index.js","mtime":1685545146599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdG9jayIsCiAgZGljdHM6IFsnc3lzX25vcm1hbF9kaXNhYmxlJ10sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDlhaXlupPljZXooajmoLzmlbDmja4KICAgICAgcG9zdExpc3Q6IFtdLAogICAgICAvLyDlhaXlupPljZXpobnnm67mlbDmja4KICAgICAgaXRlbUxpc3Q6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOaYr+WQpuW8ueWHuuivpuaDheWxggogICAgICBkZXRhaWw6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrotKfmnrbnvJblj7cKICAgICAgaXNEaXNhYmxlZDogdHJ1ZSwKICAgICAgLy8g5p+l6K+i5LqS5pal5Y2V6YePCiAgICAgIHF1ZXJ5U2luZ2xlOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5LqS5pal5aSa6YePCiAgICAgIHF1ZXJ5TXV0ZXg6IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBzdG9ja0lkOiB1bmRlZmluZWQsCiAgICAgICAgaW5TdG9ja0NhdGVnb3J5OiB1bmRlZmluZWQsCiAgICAgICAgaW5TdG9ja1N0YXR1czogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBteUZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBwcm9kdWN0SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLkuqflk4HnvJblj7fkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgc3RvY2tRdWFudGl0eTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWtmOWCqOaVsOmHj+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwb3NpdGlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWtmOWCqOWMuuWfn+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouWyl+S9jeWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvc3RvY2tzLyIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfmiJF0beadpeWVpicpOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKSB7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IFtdOwogICAgICAgICAgdGhpcy5wb3N0TGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5kZXRhaWwgPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0KCkgewogICAgICB0aGlzLm15Rm9ybSA9IHsKICAgICAgICBzdG9ja0lkOiB1bmRlZmluZWQsCiAgICAgICAgcHJvZHVjdElkOiB1bmRlZmluZWQsCiAgICAgICAgc3RvY2tRdWFudGl0eTogIiIsCiAgICAgICAgcG9zaXRpb246ICIiCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9LAogICAgcmVzZXRGb3JtKCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gewogICAgICAgIHN0b2NrSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwb3NpdGlvbjogdW5kZWZpbmVkCiAgICAgIH07CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIGlmICh0aGlzLnF1ZXJ5UGFyYW1zLnN0b2NrSWQpIHsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9zdG9ja3MvIiArIHRoaXMucXVlcnlQYXJhbXMuc3RvY2tJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgLy8g5Yik5pat5piv5ZCm5Li656m6CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gIiIpIHsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdCA9IFtdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMucXVlcnlQYXJhbXMucG9zaXRpb24pIHsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9zdG9ja3MvcG9zaXRpb24vIiArIHRoaXMucXVlcnlQYXJhbXMucG9zaXRpb24pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgLy8g5Yik5pat5piv5LiN5piv5YiX6KGoCiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhKSkgewogICAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucG9zdExpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5wb3N0TGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uc3RvY2tJZCk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAi5re75Yqg6LSn5p62IjsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgxODEvc3RvY2tzLyIgKyByb3cuc3RvY2tJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIHRoaXMubXlGb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgIHRoaXMudGl0bGUgPSAi5L+u5pS56LSn5p62IjsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaPkOS6pOaMiemSriAqLwogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gKHN0b2NrKSB7CiAgICAgIGNvbnNvbGUubG9nKHN0b2NrKTsKICAgICAgaWYgKHRoaXMubXlGb3JtLnN0b2NrSWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8g5pu05pawCiAgICAgICAgYXhpb3MucHV0KCcvc3RvY2tzLycsIHN0b2NrKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCBmbGFnID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmIChmbGFnKSB7CiAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuabtOaWsOaIkOWKnyEiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLmm7TmlrDlpLHotKUhIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5re75YqgCiAgICAgICAgYXhpb3MucG9zdCgnL3N0b2Nrcy8nLCBzdG9jaykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBsZXQgZmxhZyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBpZiAoZmxhZykgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLmt7vliqDmiJDlip8hIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5re75Yqg5aSx6LSlISIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5re75Yqg5aSx6LSlISIpOwogICAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCBzdG9ja0lkcyA9IHJvdy5zdG9ja0lkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTlhaXlupPljZXnvJblj7fkuLoiJyArIHN0b2NrSWRzICsgJyLnmoTmlbDmja7pobnvvJ8nKS50aGVuKGZ1bmN0aW9uICgpIHt9KS50aGVuKCgpID0+IHsKICAgICAgICBheGlvcy5kZWxldGUoJy9zdG9ja3MvJyArIHN0b2NrSWRzKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCBmbGFnID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmIChmbGFnKSB7CiAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyEiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLliKDpmaTlpLHotKUhIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdxdWVyeVBhcmFtcy5zdG9ja0lkJzogewogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5TXV0ZXggPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5TXV0ZXggPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAncXVlcnlQYXJhbXMucG9zaXRpb24nOiB7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICAgIHRoaXMucXVlcnlTaW5nbGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5U2luZ2xlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","defaults","headers","post","name","dicts","data","loading","ids","single","multiple","showSearch","total","postList","itemList","title","open","detail","isDisabled","querySingle","queryMutex","queryParams","stockId","undefined","inStockCategory","inStockStatus","myForm","rules","productId","required","message","trigger","stockQuantity","position","created","getList","methods","get","then","response","console","log","Array","isArray","push","cancel","reset","resetForm","handleQuery","resetQuery","handleSelectionChange","selection","map","item","length","handleAdd","handleUpdate","row","submitForm","stock","put","flag","$modal","msgSuccess","msgError","catch","err","handleDelete","stockIds","confirm","delete","watch","handler","newValue"],"sources":["src/views/Stock.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"100px\">\n      <el-form-item label=\"货架编号\" prop=\"stockId\" >\n        <el-input\n          v-model=\"queryParams.stockId\"\n          placeholder=\"请输入货架编号\"\n          clearable\n          :disabled=\"querySingle\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"区域\" prop=\"position\" >\n        <el-input\n            v-model=\"queryParams.position\"\n            placeholder=\"请输入区域编号\"\n            clearable\n            :disabled=\"queryMutex\"\n            @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >新增</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n\n        >修改</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n\n        >删除</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"postList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column label=\"货架编号\" align=\"center\" prop=\"stockId\" />\n      <el-table-column label=\"产品编号\" align=\"center\" prop=\"productId\"/>\n      <el-table-column label=\"数量\" align=\"center\" prop=\"stockQuantity\"/>\n      <el-table-column label=\"区域\" align=\"center\" prop=\"position\"/>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n\n    <!-- 添加或修改货架对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"myForm\" :rules=\"rules\" label-width=\"100px\">\n        <el-form-item label=\"货架编号\" prop=\"stockId\">\n          <el-input v-model=\"myForm.stockId\" controls-position=\"right\" :min=\"0\"  :disabled=\"isDisabled\"/>\n        </el-form-item>\n        <el-form-item label=\"产品编号\" prop=\"productId\">\n          <el-input v-model=\"myForm.productId\" controls-position=\"right\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item label=\"产品数量\" prop=\"stockQuantity\">\n          <el-input v-model=\"myForm.stockQuantity\" controls-position=\"right\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item label=\"所在区域\" prop=\"position\">\n          <el-input v-model=\"myForm.position\" controls-position=\"right\" :min=\"0\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm(myForm)\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.headers.post['Content-Type']='application/json;charset=UTF-8';\n\nexport default {\n  name: \"Stock\",\n  dicts: ['sys_normal_disable'],\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 入库单表格数据\n      postList: [],\n      // 入库单项目数据\n      itemList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 是否弹出详情层\n      detail: false,\n      // 是否显示货架编号\n      isDisabled: true,\n      // 查询互斥单量\n      querySingle: false,\n      // 查询互斥多量\n      queryMutex: false,\n      // 查询参数\n      queryParams: {\n        stockId: undefined,\n        inStockCategory: undefined,\n        inStockStatus: undefined\n      },\n      // 表单参数\n      myForm: {},\n      // 表单校验\n      rules: {\n        productId: [\n          { required: true, message: \"产品编号不能为空\", trigger: \"blur\" }\n        ],\n        stockQuantity: [\n          { required: true, message: \"存储数量不能为空\", trigger: \"blur\" }\n        ],\n        position: [\n          { required: true, message: \"存储区域不能为空\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询岗位列表 */\n    getList() {\n      this.loading = true;\n      axios.get(\"http://localhost:8181/stocks/\").then((response)=>{\n        console.log('我tm来啦');\n        if(Array.isArray(response.data)){\n          this.postList = response.data;\n        }else {\n          this.postList = [];\n          this.postList.push(response.data);\n        }\n      });\n      this.loading = false;\n\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.detail = false;\n\n      this.reset();\n      this.getList();\n    },\n    // 表单重置\n    reset() {\n      this.myForm = {\n        stockId: undefined,\n        productId: undefined,\n        stockQuantity: \"\",\n        position:\"\"\n      };\n      this.resetForm();\n    },\n    resetForm(){\n      this.queryParams = {\n        stockId: undefined,\n        position: undefined,\n\n      };\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      if (this.queryParams.stockId){\n        axios.get(\"http://localhost:8181/stocks/\"+this.queryParams.stockId).then((response)=>{\n          console.log(response);\n          this.loading = true;\n          // 判断是否为空\n          if(response.data===\"\"){\n            this.postList = [];\n          }else {\n            console.log(response);\n            this.postList = [];\n            this.postList.push(response.data);\n          }\n\n          this.loading = false;\n        });\n      }\n      else if(this.queryParams.position){\n        axios.get(\"http://localhost:8181/stocks/position/\"+this.queryParams.position)\n            .then((response)=>{\n              console.log(response.data);\n              this.loading = true;\n              // 判断是不是列表\n              if(Array.isArray(response.data)){\n                this.postList = response.data;\n              }else {\n                this.postList = [];\n                this.postList.push(response.data);\n\n              }\n              this.loading = false;\n            });\n      }\n      else {\n        this.getList();\n      }\n\n\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm();\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.stockId)\n      this.single = selection.length!=1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加货架\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      axios.get(\"http://localhost:8181/stocks/\"+row.stockId).then((response)=>{\n        console.log(response);\n        this.myForm = response.data;\n        this.open = true;\n        this.title = \"修改货架\";\n\n\n      });\n\n\n\n    },\n    /** 提交按钮 */\n    submitForm: function(stock) {\n      console.log(stock);\n      if (this.myForm.stockId != undefined){\n        // 更新\n        axios.put('/stocks/', stock).then((response)=>{\n          let flag = response.data;\n          if(flag){\n            this.$modal.msgSuccess(\"更新成功!\");\n          }else {\n            this.$modal.msgError(\"更新失败!\");\n          }\n\n          this.cancel();\n          this.getList();\n        });\n      }else {\n        // 添加\n        axios.post('/stocks/', stock).then((response)=>{\n          let flag = response.data;\n          if(flag){\n            this.$modal.msgSuccess(\"添加成功!\");\n          }else {\n            this.$modal.msgError(\"添加失败!\");\n          }\n\n          this.cancel();\n          this.getList();\n        }).catch((err) => {\n          this.$modal.msgError(\"添加失败!\");\n          this.cancel();\n          this.getList();\n        });\n      }\n\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const stockIds = row.stockId || this.ids;\n      this.$modal.confirm('是否确认删除入库单编号为\"' + stockIds + '\"的数据项？').then(function() {\n\n      }).then(() => {\n        axios.delete('/stocks/'+stockIds).then((response)=>{\n          let flag = response.data;\n          if(flag){\n            this.$modal.msgSuccess(\"删除成功!\");\n          }else {\n            this.$modal.msgError(\"删除失败!\");\n          }\n\n          this.getList();\n        });\n\n\n\n      }).catch(() => {});\n    },\n  },\n  watch:{\n    'queryParams.stockId':{\n      handler(newValue){\n        if(newValue){\n          this.queryMutex = true;\n        }else {\n          this.queryMutex = false;\n        }\n      }\n\n},\n    'queryParams.position':{\n      handler(newValue){\n        if(newValue){\n          this.querySingle = true;\n        }else {\n          this.querySingle = false;\n        }\n      }\n\n    },\n\n  }\n};\n</script>\n"],"mappings":"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"}]}