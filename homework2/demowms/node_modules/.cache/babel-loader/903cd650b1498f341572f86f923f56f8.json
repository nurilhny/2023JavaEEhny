{"remainingRequest":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\plugins\\auth.js","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\src\\plugins\\auth.js","mtime":1681203115000},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\babel.config.js","mtime":1681728649966},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685545148945},{"path":"D:\\workspace\\IdeaProjects\\2023javaEEHNY\\homework2\\demowms\\node_modules\\babel-loader\\lib\\index.js","mtime":1685545171187}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpmdW5jdGlvbiBhdXRoUGVybWlzc2lvbihwZXJtaXNzaW9uKSB7CiAgY29uc3QgYWxsX3Blcm1pc3Npb24gPSAiKjoqOioiOwogIGNvbnN0IHBlcm1pc3Npb25zID0gc3RvcmUuZ2V0dGVycyAmJiBzdG9yZS5nZXR0ZXJzLnBlcm1pc3Npb25zOwogIGlmIChwZXJtaXNzaW9uICYmIHBlcm1pc3Npb24ubGVuZ3RoID4gMCkgewogICAgcmV0dXJuIHBlcm1pc3Npb25zLnNvbWUodiA9PiB7CiAgICAgIHJldHVybiBhbGxfcGVybWlzc2lvbiA9PT0gdiB8fCB2ID09PSBwZXJtaXNzaW9uOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0KZnVuY3Rpb24gYXV0aFJvbGUocm9sZSkgewogIGNvbnN0IHN1cGVyX2FkbWluID0gImFkbWluIjsKICBjb25zdCByb2xlcyA9IHN0b3JlLmdldHRlcnMgJiYgc3RvcmUuZ2V0dGVycy5yb2xlczsKICBpZiAocm9sZSAmJiByb2xlLmxlbmd0aCA+IDApIHsKICAgIHJldHVybiByb2xlcy5zb21lKHYgPT4gewogICAgICByZXR1cm4gc3VwZXJfYWRtaW4gPT09IHYgfHwgdiA9PT0gcm9sZTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9CmV4cG9ydCBkZWZhdWx0IHsKICAvLyDpqozor4HnlKjmiLfmmK/lkKblhbflpIfmn5DmnYPpmZAKICBoYXNQZXJtaShwZXJtaXNzaW9uKSB7CiAgICByZXR1cm4gYXV0aFBlcm1pc3Npb24ocGVybWlzc2lvbik7CiAgfSwKICAvLyDpqozor4HnlKjmiLfmmK/lkKblkKvmnInmjIflrprmnYPpmZDvvIzlj6rpnIDljIXlkKvlhbbkuK3kuIDkuKoKICBoYXNQZXJtaU9yKHBlcm1pc3Npb25zKSB7CiAgICByZXR1cm4gcGVybWlzc2lvbnMuc29tZShpdGVtID0+IHsKICAgICAgcmV0dXJuIGF1dGhQZXJtaXNzaW9uKGl0ZW0pOwogICAgfSk7CiAgfSwKICAvLyDpqozor4HnlKjmiLfmmK/lkKblkKvmnInmjIflrprmnYPpmZDvvIzlv4Xpobvlhajpg6jmi6XmnIkKICBoYXNQZXJtaUFuZChwZXJtaXNzaW9ucykgewogICAgcmV0dXJuIHBlcm1pc3Npb25zLmV2ZXJ5KGl0ZW0gPT4gewogICAgICByZXR1cm4gYXV0aFBlcm1pc3Npb24oaXRlbSk7CiAgICB9KTsKICB9LAogIC8vIOmqjOivgeeUqOaIt+aYr+WQpuWFt+Wkh+afkOinkuiJsgogIGhhc1JvbGUocm9sZSkgewogICAgcmV0dXJuIGF1dGhSb2xlKHJvbGUpOwogIH0sCiAgLy8g6aqM6K+B55So5oi35piv5ZCm5ZCr5pyJ5oyH5a6a6KeS6Imy77yM5Y+q6ZyA5YyF5ZCr5YW25Lit5LiA5LiqCiAgaGFzUm9sZU9yKHJvbGVzKSB7CiAgICByZXR1cm4gcm9sZXMuc29tZShpdGVtID0+IHsKICAgICAgcmV0dXJuIGF1dGhSb2xlKGl0ZW0pOwogICAgfSk7CiAgfSwKICAvLyDpqozor4HnlKjmiLfmmK/lkKblkKvmnInmjIflrprop5LoibLvvIzlv4Xpobvlhajpg6jmi6XmnIkKICBoYXNSb2xlQW5kKHJvbGVzKSB7CiAgICByZXR1cm4gcm9sZXMuZXZlcnkoaXRlbSA9PiB7CiAgICAgIHJldHVybiBhdXRoUm9sZShpdGVtKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"names":["store","authPermission","permission","all_permission","permissions","getters","length","some","v","authRole","role","super_admin","roles","hasPermi","hasPermiOr","item","hasPermiAnd","every","hasRole","hasRoleOr","hasRoleAnd"],"sources":["D:/workspace/IdeaProjects/2023javaEEHNY/homework2/demowms/src/plugins/auth.js"],"sourcesContent":["import store from '@/store'\r\n\r\nfunction authPermission(permission) {\r\n  const all_permission = \"*:*:*\";\r\n  const permissions = store.getters && store.getters.permissions\r\n  if (permission && permission.length > 0) {\r\n    return permissions.some(v => {\r\n      return all_permission === v || v === permission\r\n    })\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nfunction authRole(role) {\r\n  const super_admin = \"admin\";\r\n  const roles = store.getters && store.getters.roles\r\n  if (role && role.length > 0) {\r\n    return roles.some(v => {\r\n      return super_admin === v || v === role\r\n    })\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport default {\r\n  // 验证用户是否具备某权限\r\n  hasPermi(permission) {\r\n    return authPermission(permission);\r\n  },\r\n  // 验证用户是否含有指定权限，只需包含其中一个\r\n  hasPermiOr(permissions) {\r\n    return permissions.some(item => {\r\n      return authPermission(item)\r\n    })\r\n  },\r\n  // 验证用户是否含有指定权限，必须全部拥有\r\n  hasPermiAnd(permissions) {\r\n    return permissions.every(item => {\r\n      return authPermission(item)\r\n    })\r\n  },\r\n  // 验证用户是否具备某角色\r\n  hasRole(role) {\r\n    return authRole(role);\r\n  },\r\n  // 验证用户是否含有指定角色，只需包含其中一个\r\n  hasRoleOr(roles) {\r\n    return roles.some(item => {\r\n      return authRole(item)\r\n    })\r\n  },\r\n  // 验证用户是否含有指定角色，必须全部拥有\r\n  hasRoleAnd(roles) {\r\n    return roles.every(item => {\r\n      return authRole(item)\r\n    })\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,SAAS;AAE3B,SAASC,cAAcA,CAACC,UAAU,EAAE;EAClC,MAAMC,cAAc,GAAG,OAAO;EAC9B,MAAMC,WAAW,GAAGJ,KAAK,CAACK,OAAO,IAAIL,KAAK,CAACK,OAAO,CAACD,WAAW;EAC9D,IAAIF,UAAU,IAAIA,UAAU,CAACI,MAAM,GAAG,CAAC,EAAE;IACvC,OAAOF,WAAW,CAACG,IAAI,CAACC,CAAC,IAAI;MAC3B,OAAOL,cAAc,KAAKK,CAAC,IAAIA,CAAC,KAAKN,UAAU;IACjD,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,OAAO,KAAK;EACd;AACF;AAEA,SAASO,QAAQA,CAACC,IAAI,EAAE;EACtB,MAAMC,WAAW,GAAG,OAAO;EAC3B,MAAMC,KAAK,GAAGZ,KAAK,CAACK,OAAO,IAAIL,KAAK,CAACK,OAAO,CAACO,KAAK;EAClD,IAAIF,IAAI,IAAIA,IAAI,CAACJ,MAAM,GAAG,CAAC,EAAE;IAC3B,OAAOM,KAAK,CAACL,IAAI,CAACC,CAAC,IAAI;MACrB,OAAOG,WAAW,KAAKH,CAAC,IAAIA,CAAC,KAAKE,IAAI;IACxC,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,OAAO,KAAK;EACd;AACF;AAEA,eAAe;EACb;EACAG,QAAQA,CAACX,UAAU,EAAE;IACnB,OAAOD,cAAc,CAACC,UAAU,CAAC;EACnC,CAAC;EACD;EACAY,UAAUA,CAACV,WAAW,EAAE;IACtB,OAAOA,WAAW,CAACG,IAAI,CAACQ,IAAI,IAAI;MAC9B,OAAOd,cAAc,CAACc,IAAI,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC;EACD;EACAC,WAAWA,CAACZ,WAAW,EAAE;IACvB,OAAOA,WAAW,CAACa,KAAK,CAACF,IAAI,IAAI;MAC/B,OAAOd,cAAc,CAACc,IAAI,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC;EACD;EACAG,OAAOA,CAACR,IAAI,EAAE;IACZ,OAAOD,QAAQ,CAACC,IAAI,CAAC;EACvB,CAAC;EACD;EACAS,SAASA,CAACP,KAAK,EAAE;IACf,OAAOA,KAAK,CAACL,IAAI,CAACQ,IAAI,IAAI;MACxB,OAAON,QAAQ,CAACM,IAAI,CAAC;IACvB,CAAC,CAAC;EACJ,CAAC;EACD;EACAK,UAAUA,CAACR,KAAK,EAAE;IAChB,OAAOA,KAAK,CAACK,KAAK,CAACF,IAAI,IAAI;MACzB,OAAON,QAAQ,CAACM,IAAI,CAAC;IACvB,CAAC,CAAC;EACJ;AACF,CAAC"}]}